{"ast":null,"code":"import _objectSpread from\"C:/Users/sunil/OneDrive/Desktop/book-review-platform-deploy-ready/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import api from'../api/api';import{useNavigate,useParams}from'react-router-dom';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function AddEditBook(){const{id}=useParams();const[form,setForm]=useState({title:'',author:'',description:'',genre:'',year:''});const navigate=useNavigate();useEffect(()=>{if(id){api.get(\"/books/\".concat(id)).then(res=>{const b=res.data.book;setForm({title:b.title,author:b.author,description:b.description||'',genre:b.genre||'',year:b.year||''});}).catch(()=>{});}},[id]);const submit=async e=>{e.preventDefault();try{if(id)await api.put(\"/books/\".concat(id),form);else await api.post('/books',form);navigate('/');}catch(err){var _err$response,_err$response$data;alert(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Error');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[id?'Edit':'Add',\" Book\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Title\",value:form.title,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{title:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Author\",value:form.author,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{author:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Description\",value:form.description,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{description:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Genre\",value:form.genre,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{genre:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Published Year\",value:form.year,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{year:e.target.value}))}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",children:[id?'Update':'Add',\" Book\"]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","api","useNavigate","useParams","jsxs","_jsxs","jsx","_jsx","AddEditBook","id","form","setForm","title","author","description","genre","year","navigate","get","concat","then","res","b","data","book","catch","submit","e","preventDefault","put","post","err","_err$response","_err$response$data","alert","response","message","className","children","onSubmit","placeholder","value","onChange","_objectSpread","target","required","type"],"sources":["C:/Users/sunil/OneDrive/Desktop/book-review-platform-deploy-ready/frontend/src/pages/AddEditBook.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport api from '../api/api';\nimport { useNavigate, useParams } from 'react-router-dom';\nexport default function AddEditBook(){\n  const { id } = useParams();\n  const [form, setForm] = useState({ title:'', author:'', description:'', genre:'', year:'' });\n  const navigate = useNavigate();\n\n  useEffect(()=>{\n    if (id) {\n      api.get(`/books/${id}`).then(res=>{\n        const b = res.data.book;\n        setForm({ title: b.title, author: b.author, description: b.description||'', genre: b.genre||'', year: b.year||'' });\n      }).catch(()=>{});\n    }\n  }, [id]);\n\n  const submit = async (e) => {\n    e.preventDefault();\n    try {\n      if (id) await api.put(`/books/${id}`, form);\n      else await api.post('/books', form);\n      navigate('/');\n    } catch (err) {\n      alert(err.response?.data?.message || 'Error');\n    }\n  };\n\n  return (\n    <div className=\"card\">\n      <h2>{id ? 'Edit' : 'Add'} Book</h2>\n      <form onSubmit={submit}>\n        <input placeholder=\"Title\" value={form.title} onChange={e=>setForm({...form, title:e.target.value})} required />\n        <input placeholder=\"Author\" value={form.author} onChange={e=>setForm({...form, author:e.target.value})} required />\n        <textarea placeholder=\"Description\" value={form.description} onChange={e=>setForm({...form, description:e.target.value})} />\n        <input placeholder=\"Genre\" value={form.genre} onChange={e=>setForm({...form, genre:e.target.value})} />\n        <input placeholder=\"Published Year\" value={form.year} onChange={e=>setForm({...form, year:e.target.value})} />\n        <button type=\"submit\">{id ? 'Update' : 'Add'} Book</button>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}